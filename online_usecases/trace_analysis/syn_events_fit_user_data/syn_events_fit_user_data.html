


<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Synaptic events fitting (user’s data) &#8212; HBP Brain Simulation Platform Guidebook 0.1.1 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/hbpdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/bsp.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/bsp.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/extra.js"></script>
    <script type="text/javascript" src="../../../_static/hbpdoc.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Morphology Analysis" href="../../morphology_analysis/morphology_analysis.html" />
    <link rel="prev" title="Synaptic events fitting (user’s model)" href="../syn_events_fituser_mod/syn_events_fituser_mod.html" />
<meta name="viewport" content="width=device-width, initial-scale=1">

  </head>
  <body role="document">
<div class="hbpdoc-page">
    <section class="hbpdoc-title page-header">
        <a class="project-title" href="../../../index.html">HBP Brain Simulation Platform Guidebook</a>

        <a class="hbpdoc-toc-toggle pull-right" href>
            <span class="zmdi zmdi-menu"></span> <span class="sr-only icon-text">Menu</span>
        </a>
    </section>
    <section class="hbpdoc-main">
        <nav class="hbpdoc-sidebar hbpdoc-container">
            <a class="hbpdoc-toc-toggle pull-right" href>
                <span class="zmdi zmdi-menu"></span> <span class="sr-only icon-text">Menu</span>
            </a>
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Synaptic events fitting (user’s data)</a><ul>
<li><a class="reference internal" href="#synaptic-events-fitting-with-user-data-config">Synaptic events fitting with user data - Config</a></li>
<li><a class="reference internal" href="#synaptic-events-fitting-with-user-data-analysis">Synaptic events fitting with user data - Analysis</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../syn_events_fituser_mod/syn_events_fituser_mod.html"
                        title="previous chapter">Synaptic events fitting (user’s model)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../morphology_analysis/morphology_analysis.html"
                        title="next chapter">Morphology Analysis</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/online_usecases/trace_analysis/syn_events_fit_user_data/syn_events_fit_user_data.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        </nav>

        <article class="hbpdoc-content">

            <div class="content">
                
                <div class="breadcrumb breadcrumb-meta expand">
                    
                    <a href="../../online_usecases.html">Online Use Cases</a>
                    
                    <a href="../trace_analysis.html">Trace Analysis</a>
                    
                </div>
                

                <aside class="hbpdoc-hnav hbpdoc-hnav-top">
                    
                    <span class="hbpdoc-hnav-previous">
                        previous: <a class="hbpdoc-hnav-link" href="../syn_events_fituser_mod/syn_events_fituser_mod.html">Synaptic events fitting (user’s model)</a>
                    </span>
                    
                    
                    <span class="hbpdoc-hnav-next">
                        next: <a class="hbpdoc-hnav-link" href="../../morphology_analysis/morphology_analysis.html">Morphology Analysis</a>
                    </span>
                    
                </aside>

                <div class="section" id="synaptic-events-fitting-users-data">
<span id="syn-events-fit-user-data"></span><h1>Synaptic events fitting (user’s data)<a class="headerlink" href="#synaptic-events-fitting-users-data" title="Permalink to this headline">¶</a></h1>
<p>This use case allows a user to fit synaptic events data with model from NeuroInformatics Platform.</p>
<p>Selecting this use case, two Jupyter Notebooks are cloned in a private existing/new collab.
The cloned Notebooks are:</p>
<div class="section" id="synaptic-events-fitting-with-user-data-config">
<h2>Synaptic events fitting with user data - Config<a class="headerlink" href="#synaptic-events-fitting-with-user-data-config" title="Permalink to this headline">¶</a></h2>
<p>It allows the user to:</p>
<ol class="arabic simple">
<li>Select a local experimental file</li>
</ol>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/select_exp.png"><img alt="../../../_images/select_exp.png" class="align-center" src="../../../_images/select_exp.png" style="width: 400px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>At this time, the only accepted format for the experimental file is a text file with time in the first column and individual traces in successive columns. All columns must be of the same length.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li>Fill the form with the values needed to write a configuration file: the number of traces in the experimental file, the protocol (voltage clamp amplitude and reversal potential of the synapse). The name of the parameters to be fitted, their initial values and allowed range of variation, exclusion rules, and an optional set of dependencies for other parameters are by default those corresponding to the model from NeuroInformatics Platform</li>
</ol>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/fill_form.png"><img alt="../../../_images/fill_form.png" class="align-center" src="../../../_images/fill_form.png" style="width: 400px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/fitting_params.png"><img alt="../../../_images/fitting_params.png" class="align-center" src="../../../_images/fitting_params.png" style="width: 600px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/dependencies.png"><img alt="../../../_images/dependencies.png" class="align-center" src="../../../_images/dependencies.png" style="width: 500px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="3">
<li>Configure the parameters of the optimization job: number of nodes, number of cores and runtime. Run the fitting procedure on JURECA or on MARCONI using UNICORE authentication, or on the NSG and check the status of the job</li>
</ol>
<p>On JURECA the number of nodes, number of CPUs per node and runtime are set by default to 2, 24 and 10m respectively</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>On MARCONI the number of nodes, number of CPUs per node and runtime are set by default to 2, 36 and 10m respectively</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The user needs to be aware of the limitations imposed by each HPC system on resources</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>On the NSG the number of nodes, number of cores and runtime are set by default to 2, 24 and 0.5 respectively. The maximum number of nodes available per job is 72. If you require more than 72 nodes please contact <a class="reference external" href="mailto:nsghelp&#37;&#52;&#48;sdsc&#46;edu">nsghelp<span>&#64;</span>sdsc<span>&#46;</span>edu</a>. The maximum number of cores required per node is 24.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/select_hpc.png"><img alt="../../../_images/select_hpc.png" class="align-center" src="../../../_images/select_hpc.png" style="width: 300px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/run_all_traces1.png"><img alt="../../../_images/run_all_traces1.png" class="align-center" src="../../../_images/run_all_traces1.png" style="width: 150px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/set_cores_nodes1.png"><img alt="../../../_images/set_cores_nodes1.png" class="align-center" src="../../../_images/set_cores_nodes1.png" style="width: 400px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/login1.png"><img alt="../../../_images/login1.png" class="align-center" src="../../../_images/login1.png" style="width: 400px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/job_submitted2.png"><img alt="../../../_images/job_submitted2.png" class="align-center" src="../../../_images/job_submitted2.png" style="width: 400px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Note that when the job is submitted through UNICORE, the user can specify a title for the job and the account to use for submitting the job on the HPC.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/unicore1.png"><img alt="../../../_images/unicore1.png" class="align-center" src="../../../_images/unicore1.png" style="width: 300px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The user can choose to fit all the experimental traces 100 times, a single trace 20 times or a demo version where a trace is fitted 5 times. For the single trace and the demo version the user can choose the number of the trace to be fitted.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Once the job is completed, the output files will be in the collab storage under different directories, according to the system used.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>JURECA: results are saved under the results/output_submissionTime folder;</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>MARCONI: results are saved under the resultsMarconi/output_submissionTime folder;</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>NSG results are saved under the resultsNSG/output_submissionTime folder.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="4">
<li>If you are interested in looking at the code, click on “Click here to toggle on/off the source code” button</li>
</ol>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/toggle_button2.png"><img alt="../../../_images/toggle_button2.png" class="align-center" src="../../../_images/toggle_button2.png" style="width: 300px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="synaptic-events-fitting-with-user-data-analysis">
<h2>Synaptic events fitting with user data - Analysis<a class="headerlink" href="#synaptic-events-fitting-with-user-data-analysis" title="Permalink to this headline">¶</a></h2>
<p>This Jupyter Notebook allows the user to analyse the optimized parameters.
The user may visualize:</p>
<ol class="arabic simple">
<li>The results table (sorted in ascending order by the fitting error).</li>
</ol>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/results_table2.png"><img alt="../../../_images/results_table2.png" class="align-center" src="../../../_images/results_table2.png" style="width: 700px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li>The boxplot of the normalized results.</li>
</ol>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/results_box2.png"><img alt="../../../_images/results_box2.png" class="align-center" src="../../../_images/results_box2.png" style="width: 700px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="3">
<li>The best fit.</li>
</ol>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/results_fit2.png"><img alt="../../../_images/results_fit2.png" class="align-center" src="../../../_images/results_fit2.png" style="width: 700px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The user may analyse the optimized parameters for a default data and mod file combination or browse through the optimized parameters available in the collab storage and visualize the table data, the box plot and the best fit. Once a collab storage folder is chosen, the user must select a corresponding experimental file (txt file), configuration file (txt file) and a result file (csv file).</p>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/choose_files2.png"><img alt="../../../_images/choose_files2.png" class="align-center" src="../../../_images/choose_files2.png" style="width: 700px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>If you are interested in looking at the code, click on “Click here to toggle on/off the source code” button</p>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/toggle_button6.png"><img alt="../../../_images/toggle_button6.png" class="align-center" src="../../../_images/toggle_button6.png" style="width: 300px;" /></a>
</div>
</div>
</div>

            </div>

            <aside class="hbpdoc-hnav hbpdoc-hnav-bottom">
                
                <span class="hbpdoc-hnav-previous">
                    previous: <a class="hbpdoc-hnav-link" href="../syn_events_fituser_mod/syn_events_fituser_mod.html">Synaptic events fitting (user’s model)</a>
                </span>
                
                
                <span class="hbpdoc-hnav-next">
                    next: <a class="hbpdoc-hnav-link" href="../../morphology_analysis/morphology_analysis.html">Morphology Analysis</a>
                </span>
                
            </aside>
        </article>
    </section>


    <div class="hbpdoc-footer">
        HBP Brain Simulation Platform Guidebook <small>0.1</small> 
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Brain Simulation Platform members.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
    </div>
</div>

  </body>
</html>