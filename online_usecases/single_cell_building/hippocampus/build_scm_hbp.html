


<!DOCTYPE html>



<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Build your own single cell model using HBP data &#8212; HBP Brain Simulation Platform Guidebook 0.1.1 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/hbpdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/bsp.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/bsp.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/hbpdoc.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Build your own cell model using HBP and/or your own data" href="build_scm_hbp_yours.html" />
    <link rel="prev" title="Rebuild an existing single cell model" href="rebuild_scm.html" />
<meta name="viewport" content="width=device-width, initial-scale=1">

  </head>
  <body role="document">
<div class="hbpdoc-page">
    <section class="hbpdoc-title page-header">
        <a class="project-title" href="../../../index.html">HBP Brain Simulation Platform Guidebook</a>

        <a class="hbpdoc-toc-toggle pull-right" href>
            <span class="zmdi zmdi-menu"></span> <span class="sr-only icon-text">Menu</span>
        </a>
    </section>
    <section class="hbpdoc-main">
        <nav class="hbpdoc-sidebar hbpdoc-container">
            <a class="hbpdoc-toc-toggle pull-right" href>
                <span class="zmdi zmdi-menu"></span> <span class="sr-only icon-text">Menu</span>
            </a>
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="rebuild_scm.html"
                        title="previous chapter">Rebuild an existing single cell model</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="build_scm_hbp_yours.html"
                        title="next chapter">Build your own cell model using HBP and/or your own data</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/online_usecases/single_cell_building/hippocampus/build_scm_hbp.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        </nav>

        <article class="hbpdoc-content">

            <div class="content">
                
                <div class="breadcrumb breadcrumb-meta expand">
                    
                    <a href="../../online_usecases.html">Online Use Cases</a>
                    
                    <a href="../single_cell_building.html">Single Cell Building</a>
                    
                    <a href="hippocampus.html">Hippocampus</a>
                    
                </div>
                

                <aside class="hbpdoc-hnav hbpdoc-hnav-top">
                    
                    <span class="hbpdoc-hnav-previous">
                        previous: <a class="hbpdoc-hnav-link" href="rebuild_scm.html">Rebuild an existing single cell model</a>
                    </span>
                    
                    
                    <span class="hbpdoc-hnav-next">
                        next: <a class="hbpdoc-hnav-link" href="build_scm_hbp_yours.html">Build your own cell model using HBP and/or your own data</a>
                    </span>
                    
                </aside>

                <div class="section" id="build-your-own-single-cell-model-using-hbp-data">
<span id="build-scm-hbp"></span><h1>Build your own single cell model using HBP data<a class="headerlink" href="#build-your-own-single-cell-model-using-hbp-data" title="Permalink to this headline">¶</a></h1>
<p>This use case allows a user to configure the <a class="reference external" href="http://bluepyopt.readthedocs.io/en/latest/">BluePyOpt</a> to run an optimization choosing from HBP data for morphology, channel kinetics, features, and parameters. The current version allows to select among self-consistent configuration files from previous optimizations.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Selecting this use case, 3 Jupyter Notebooks are cloned in a private existing/new collab.  The cloned Notebooks are:</p>
<p>1 “BluePyOpt Browse All” – it allows users to:</p>
<blockquote>
<div>1.1 choose and visualize an existing morphology from HBP data (name and type of morphology are listed)</div></blockquote>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/byohd_browseall.png"><img alt="../../../_images/byohd_browseall.png" class="align-right" src="../../../_images/byohd_browseall.png" style="width: 600px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>1.2 choose a self-consistent set of configuration files (the four JSON files) for the chosen morphology; the list includes those available for the selected morphology</div></blockquote>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/byohd_chose.png"><img alt="../../../_images/byohd_chose.png" class="align-right" src="../../../_images/byohd_chose.png" style="width: 500px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>1.3 visualize the electrophysiological features that will be used as a reference by the optimization process (“Features” tab); they cannot be changed</div></blockquote>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/byohd_visualize.png"><img alt="../../../_images/byohd_visualize.png" class="align-right" src="../../../_images/byohd_visualize.png" style="width: 600px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>1.4 visualize and change parameters of an existing optimization (&#8220;Parameters&#8221; tab). The user can change the values and &#8220;Save new parameters&#8221;</div></blockquote>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/byohd_change.png"><img alt="../../../_images/byohd_change.png" class="align-right" src="../../../_images/byohd_change.png" style="width: 600px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>1.5 configure the BluePyOpt optimization algorithm, by defining the offspring size and the max number of generations; they are set by default to 10 and 2 respectively</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>1.6 &#8220;Create zip file&#8221; will generate the zip file needed to run the new optimization</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>1.7 Login to NSG (Neuroscience Gateway) by inserting your username and password and clicking on the &#8220;Login NSG&#8221; button</div></blockquote>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/byohd_login.png"><img alt="../../../_images/byohd_login.png" class="align-right" src="../../../_images/byohd_login.png" style="width: 300px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>1.8 configure the parameters of the optimization job: number of nodes, number of cores and runtime. They are set by default to 2, 10 and 0.5 respectively. The maximum number of nodes available per job is 72. If you require more than 72 nodes please contact us at <a class="reference external" href="mailto:nsghelp&#37;&#52;&#48;sdsc&#46;edu">nsghelp<span>&#64;</span>sdsc<span>&#46;</span>edu</a>. The maximum number of cores required per node is 24.</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>1.9 run the optimization by clicking on the “Run NSG simulation”</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>1.10 the job has been submitted when you see:</div></blockquote>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/byohd_submitted.png"><img alt="../../../_images/byohd_submitted.png" class="align-right" src="../../../_images/byohd_submitted.png" style="width: 300px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>You may check the job status by clicking on the “Check NSG simulation”. The status may be: QUEUE, COMMANDRENDERING, INPUTSTAGING, SUBMITTED, LOAD_RESULTS or COMPLETED;
Once the job is COMPLETED, results are saved in the collab storage, under the BluePyOptAll/resultsNSG/username/foldername (foldername is the name of the configuration set, where date and time are changed with the current date and time)</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>1.11 If you are interested in looking at the code, click on “Click here to toggle on/off the source code” button</div></blockquote>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/byohd_toggle.png"><img alt="../../../_images/byohd_toggle.png" class="align-right" src="../../../_images/byohd_toggle.png" style="width: 250px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>2 “NSG Job Manager” – a Jupyter Notebook that allows users to:</p>
<blockquote>
<div>2.1 login to Neuroscience Gateway (NSG) and load the Job Manager by clicking on “Job manager”</div></blockquote>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/byohd_loginNSG.png"><img alt="../../../_images/byohd_loginNSG.png" class="align-right" src="../../../_images/byohd_loginNSG.png" style="width: 250px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>2.2 copy completed jobs from NSG to the collab storage by clicking on →</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>2.3 refresh jobs on NSG by clicking on <img alt="wait_symbol" src="../../../_images/wait.png" /></div></blockquote>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/byohd_refresh.png"><img alt="../../../_images/byohd_refresh.png" class="align-right" src="../../../_images/byohd_refresh.png" style="width: 450px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>a job can be stored only if completed</p>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/byohd_completed.png"><img alt="../../../_images/byohd_completed.png" class="align-right" src="../../../_images/byohd_completed.png" style="width: 450px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>3 “BluePyOpt Analysis” – a Jupyter Notebook that allows users to:</p>
<blockquote>
<div>3.1 Choose a previous optimization, from the HBP GitHub repository or from the collab storage, and run an analysis by clicking on “View analysis”</div></blockquote>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/byohd_saveAnalysis.png"><img alt="../../../_images/byohd_saveAnalysis.png" class="align-right" src="../../../_images/byohd_saveAnalysis.png" style="width: 500px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<div class="bsp-container-center docutils container">
<a class="reference internal image-reference" href="../../../_images/byohd_viewTraces.png"><img alt="../../../_images/byohd_viewTraces.png" class="align-right" src="../../../_images/byohd_viewTraces.png" style="width: 500px;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div>3.2 Save the analysis in the storage by clicking on “Save analysis”. The analysis are saved under the BluePyOptAnalysis/username/foldername (foldername is the name of the optimization)</div></blockquote>
</div>

            </div>

            <aside class="hbpdoc-hnav hbpdoc-hnav-bottom">
                
                <span class="hbpdoc-hnav-previous">
                    previous: <a class="hbpdoc-hnav-link" href="rebuild_scm.html">Rebuild an existing single cell model</a>
                </span>
                
                
                <span class="hbpdoc-hnav-next">
                    next: <a class="hbpdoc-hnav-link" href="build_scm_hbp_yours.html">Build your own cell model using HBP and/or your own data</a>
                </span>
                
            </aside>
        </article>
    </section>


    <div class="hbpdoc-footer">
        HBP Brain Simulation Platform Guidebook <small>0.1</small> 
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Luca L. Bologna, Carmen A. Lupascu, R. Migliore, M. Migliore.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
    </div>
</div>

  </body>
</html>